# MySQL表的数据类型

## 数值类型

tinyint/smallint/mediumint/int/bigint

如果我们向MySQL特定的类型中插入不合法的数据,MySQL一般都是直接拦截我们,不让我们做对应的操作.

反过来,如果我们已经有数据被成功插入到MySQL中，一定插入的时候是合法的！

所以，MySQL中，一般而言，数据类型本身也是一种：约束

约束:倒逼程序员,让程序员尽可能进行正确的插入,约束使用者.另外如果你不是一个很好的使用者,MySQL也能保证数据插入的合法性.
就能保证数据库中的数据是可预期的,完整的

MySQL表中建立属性列:列名称 类型在后

## bit类型

语法:

bit[(M)] : 位字段类型。M表示每个值的位数，范围从1到64。如果M被忽略，默认为1。

bit使用的注意事项：

+ bit字段在显示时，是按照ASCII码对应的值显示。例如:存储'a'可以写'a'，也可以写97

+ 如果我们有这样的值，只存放0或1，这时可以定义bit(1)。这样可以节省空间。

## 小数类型


**float**语法:

float[(m, d)] [unsigned] : M指定显示长度，d指定小数位数，占用空间4个字节

例子:

小数：float(4,2)表示的范围是-99.99 ~ 99.99，当小数部分超过2时MySQL在保存值时会进行四舍五入,但是五入后一定要在规定范围，否则还是错误。插入10.0，他会自动补全,变成10.00,小数部分必须是2位,如果加上unsigned直接把负数取消掉.

**decimal**语法:

decimal(m, d) [unsigned] : 定点数m指定长度，d表示小数点的位数

+ decimal(5,2) 表示的范围是 -999.99 ~ 999.99
+ decimal(5,2) unsigned 表示的范围 0 ~ 999.99,decimal和float很像，但是有区别:float和decimal表示的精度不一样
说明：float表示的精度大约是7位。decimal整数最大位数m为65。支持小数最大位数d是30。如果d被省略，默认为0.如果m被省略，默认是10。
建议：如果希望小数的精度高，推荐使用decimal。

## 字符串类型

**char**语法:

char(L): 固定长度字符串，L是可以存储的长度，单位为字符，最大长度值可以为255

注:

+ 此字符并不是以前所学的字节数、就是一个对应一个(即一个中文和一个字母都代表字符).
+ char(2) 表示可以存放两个字符，可以是字母或汉字，但是不能超过2个， 最多只能是255.

**varchar**语法:

varchar(L): 可变长度字符串，L表示字符长度，最大长度65535个字节(65535个字节 == 21845个字符(65535 / 3))

关于varchar(len),len到底是多大，这个len值，和表的编码密切相关：

+ varchar长度可以指定为0到65535之间的值，**但是有1 - 3 个字节用于记录数据大小**，所以说有效字节数是
65532。
+ 当我们的表的编码是utf8时，varchar(n)的参数n最大值是65532/3=21844[因为utf中，一个字符占用3个字
节]，如果编码是gbk，varchar(n)的参数n最大是65532/2=32766（因为gbk中，一个字符占用2字节）。

**如何选择定长或变长字符串？**

+ 如果数据确定长度都一样，就使用定长（char），比如：身份证，手机号，md5
+ 如果数据长度有变化,就使用变长(varchar), 比如：名字，地址，但是你要保证最长的能存的进去。
+ 定长的磁盘空间比较浪费，但是效率高。
+ 变长的磁盘空间比较节省，但是效率低。
+ 定长的意义是，直接开辟好对应的空间
+ 变长的意义是，在不超过自定义范围的情况下，用多少，开辟多少。

## 日期类型和时间类型

+ date :日期 'yyyy-mm-dd' ，占用三字节
+ datetime 时间日期格式 'yyyy-mm-dd HH:ii:ss' 表示范围从 1000 到 9999 ，占用八字节
+ timestamp ：时间戳，从1970年开始的 yyyy-mm-dd HH:ii:ss 格式和 datetime 完全一致，占用四字节.每次更新表的时候，它也会自动更新.

## enum和set

**enum**语法:

enum：枚举，“单选”类型；

enum('选项1','选项2','选项3',...);

下标从1开始来选.

**set**语法

set：集合，“多选”类型；

set('选项值1','选项值2','选项值3', ...);

是数字转换成二进制来选.

## enum和set类型查找

find_in_set(sub,str_list) ：如果 sub 在 str_list 中，则返回下标；如果不在，返回0； str_list 用逗号分
隔的字符串。

如果要选择多个包含内容的,用and，而不是在sub里面加入',name';